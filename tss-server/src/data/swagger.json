{
   "openapi":"3.0.3",
   "info":{
      "version":"1.0.0",
      "title":"TSS Server",
      "description":"TSS Server"
   },
   "host":"",
   "basePath":"/",
   "tags":[
      {
         "name":"Signer",
         "description":"Endpoints required by Signer interface"
      },
      {
         "name":"TSS",
         "description":"Endpoints related to TSS"
      }
   ],
   "schemes":[
      "http"
   ],
   "consumes":[
      "application/json"
   ],
   "produces":[
      "application/json"
   ],
   "paths":{
      "/metadata":{
         "get":{
            "summary":"Signer metadata",
            "tags":[
               "Signer"
            ],
            "responses":{
               "200":{
                  "description":"OK",
                  "content":{
                     "application/json":{
                        "schema":{
                           "$ref":"#/definitions/signerMetadata"
                        }
                     }
                  }
               }
            }
         }
      },
      "/sign-event":{
         "post":{
            "summary":"Sign Event",
            "tags":[
               "Signer"
            ],
				"requestBody":{
					"description":"sign-event",
					"content":{
						"application/json":{
							"schema":{
								"$ref":"#/definitions/eventSign"
							}
						}
					}
				},
				"responses":{
					"200":{
						"type":"json"
					}
				}
         }
		},
         "/ping":{
            "get":{
               "tags":[
                  "TSS"
               ],
               "summary":"Check system",
               "responses":{
                  "200":{
                     "description":"OK"
                  }
               }
            }
         },
         "/latest-generated-address":{
            "get":{
               "summary":"Get latest generated address",
               "tags":[
                  "TSS"
               ],
               "responses":{
                  "200":{
                     "description":"OK"
                  }
               }
            }
         },
         "/status":{
            "get":{
               "tags":[
                  "TSS"
               ],
               "summary":"Get connected tss clients",
               "responses":{
                  "200":{
                     "description":"OK"
                  }
               }
            }
         },
         "/start-key-gen":{
            "post":{
               "tags":[
                  "TSS"
               ],
               "requestBody":{
                  "description":"start-key-gen",
                  "content":{
                     "application/json":{
                        "schema":{
                           "$ref":"#/definitions/gnosisSafeMessage"
                        }
                     }
                  }
               },
               "responses":{
                  "200":{
                     "type":"boolean"
                  }
               }
            }
         }
   },
   "definitions":{
      "signerMetadata":{
         "properties":{
            "signer":{
               "type":"string",
               "example":"0x"
            },
            "name":{
               "type":"string",
               "example":"signer"
            },
            "availableChains":{
               "type":"array",
               "items":{
                  "type":"number",
                  "example":"1"
               }
            }
         }
      },
      "gnosisSafeMessage":{
         "required":[
            "message",
            "txHash"
         ],
         "properties":{
            "message":{
               "type":"string"
            },
            "txHash":{
               "type":"string"
            }
         }
      },
      "eventSign":{
         "required":[
            "chainId",
            "txHash",
            "abi"
         ],
         "properties":{
            "eventLogIndex":{
               "type":"number",
               "required":false
            },
            "chainId":{
               "type":"number"
            },
            "txHash":{
               "type":"string"
            },
            "abi":{
               "type":"object",
               "properties":{
                  "name":{
                     "type":"string"
                  },
                  "type":{
                     "type":"string"
                  },
                  "anonymous":{
                     "type":"boolean"
                  },
                  "inputs":{
                     "type":"array",
                     "items":{
                        "type":"object",
                        "properties":{
                           "name":{
                              "type":"string"
                           },
                           "type":{
                              "type":"string"
                           },
                           "indexed":{
                              "type":"boolean"
                           }
                        }
                     }
                  }
               }
            }
         }
      }
   }
}